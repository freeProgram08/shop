<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        <!--namespace 制定实现接口地址-->
<mapper namespace="com.gitweb.shop.dao.IGoodsDao">
    <!--type指定的是javaBean的地址-->
    <resultMap id="goodsMap" type="com.gitweb.shop.entity.Goods">
       <!-- property 指定的是javaBean的属性
        column 指定是数据的字段名-->
        <!--除了主键用id标签，其他都用result-->
        <id  property="id" column="id"/>
        <result  property="goodsName" column="goods_name"/>
        <result  property="type" column="type"/>
        <result  property="price" column="price"/>
    </resultMap>
    <insert id="saveGoods">
        INSERT INTO goods(goods_name,type,price)VALUES
        (#{goodsName},#{type},#{price})
    </insert>
      <select id="getAllGoods" resultMap="goodsMap">
          SELECT * FROM goods
      </select>

    <select id="selectByGoodsName" resultMap="goodsMap" >
        SELECT *FROM goods WHERE goods_name=#{a}
    </select>
   <!-- 动态sql 需用特殊标签如：<where>-->
  <!--  <if test="goodsName!=null"> 条件判断标签
    当test表达式为true是才会添加标签内内容-->
    <select id="selectByGoods" resultMap="goodsMap">
        SELECT *FROM   goods
        <where>
            <if test="goodsName!=null">
                goods_name=#{goodsName}
            </if>
            <if test="type!=null">
                and type=#{type}
            </if>
            <if test="price!=null">
                and price=#{price}
            </if>
        </where>
    </select>

    <delete id="destroyGoodsById">
        DELETE FROM goods WHERE id=#{id}
    </delete>

    <select id="selectGoodsById" resultMap="goodsMap">
        SELECT * FROM goods WHERE id=#{id}
    </select>
</mapper>